Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	create_genome_list
	1	download_genome
	2

[Sun Nov 27 23:13:14 2022]
rule create_genome_list:
    output: list_of_genomes.txt
    jobid: 1


        esearch -db assembly -query '"Bombus"[Organism] AND (latest[filter] AND all[filter] NOT anomalous[filter]) AND ("chromosome level"[filter] AND "representative genome"[filter])' \
        | esummary \
        | xtract -pattern DocumentSummary -element FtpPath_GenBank \
        | while read -r line ; 
        do
            fname=$(echo $line | grep -o 'GCA_.*' | sed 's/$/_genomic.fna.gz/') ;
            echo "$line/$fname" >> list_of_genomes.txt;
        done
       
        
Activating conda environment: /home/amk/Desktop/Geronimo/GERONIMO/.snakemake/conda/74b2a95c
[Sun Nov 27 23:13:18 2022]
Finished job 1.
1 of 2 steps (50%) done

[Sun Nov 27 23:13:18 2022]
rule download_genome:
    input: list_of_genomes.txt
    output: database/*.fna
    jobid: 0
    wildcards: GENOME=*



        GENOME=$(head -n 1 list_of_genomes.txt)

        tail -n +2 list_of_genomes.txt > "$FILE.tmp" && mv "$FILE.tmp" list_of_genomes.txt

        wget -P ./database "$GENOME"

        gunzip ./database/*.fna.gz

        
[Sun Nov 27 23:15:10 2022]
Error in rule download_genome:
    jobid: 0
    output: database/*.fna
    shell:
        

        GENOME=$(head -n 1 list_of_genomes.txt)

        tail -n +2 list_of_genomes.txt > "$FILE.tmp" && mv "$FILE.tmp" list_of_genomes.txt

        wget -P ./database "$GENOME"

        gunzip ./database/*.fna.gz

        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /home/amk/Desktop/Geronimo/GERONIMO/.snakemake/log/2022-11-27T231314.165953.snakemake.log
